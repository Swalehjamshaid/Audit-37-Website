# nixpacks.toml – FINAL VERSION (works 100% on Railway with WeasyPrint + multi-service)
[phases.setup]
  nixLibs = [
    "glib",
    "gobject-introspection",
    "pango",
    "cairo",
    "gdk-pixbuf",
    "atk",
    "harfbuzz",
    "freetype",
    "fontconfig",
    "libjpeg",
    "libpng",
    "libwebp",
    "libxml2",
    "libxslt"
  ]

  aptPkgs = [
    "libgobject-2.0-0",
    "libglib2.0-0",
    "libglib2.0-dev",
    "libcairo2",
    "libcairo2-dev",
    "libpango-1.0-0",
    "libpango1.0-dev",
    "libgdk-pixbuf-2.0-0",
    "libgdk-pixbuf2.0-dev",
    "libatk1.0-0",
    "shared-mime-info"
  ]

# ←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←
# IMPORTANT: NO [start] section here anymore!
# We use per-service Custom Start Commands in Railway instead
# ←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←
